<app-navbar></app-navbar>

<body>
    <div class="form-container">
        <h2>Share Your Farming Story</h2>
        <p>Join the community and share your experiences, tips, or questions about agriculture.</p>

        <form (ngSubmit)="createPost()" class="post-form">
            <div class="text-center mb-4">
                <h1 class="welcome-text">Welcome, {{userName}}</h1>
                <h2>Create a new post</h2>
            </div>

            <div class="form-group">
                <input [(ngModel)]="data.post_title" id="post_title" type="text" name="post_title"
                    class="form-control post-title" placeholder="Enter your post title" required>
            </div>

            <div class="form-group">
                <input class="form-control file-input" type="file" (change)="onFileSelected($event)" accept="image/*">
                <div *ngIf="isLoading" class="loading-text">Uploading...</div>
                <img *ngIf="image_url" [src]="image_url" alt="Uploaded Image" class="uploaded-image">
            </div>

            <div class="form-group">
                <textarea [(ngModel)]="data.description" id="postContent" name="description"
                    placeholder="What's growing in your field?" class="post-textarea" required></textarea>
            </div>

            <div class="form-actions">
                <a href="/" class="cancel-btn">Cancel</a>
                <button type="submit" class="submit-btn">Post</button>
            </div>
        </form>
    </div>
</body>