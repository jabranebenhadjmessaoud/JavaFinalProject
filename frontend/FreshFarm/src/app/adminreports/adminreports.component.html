<app-navbar></app-navbar>
<!-- Reports Table -->
<section class="card products">
    <h2>All Reports: {{filteredReports.length}} </h2>
    <input type="text" [(ngModel)]="reportSearchQuery" (input)="filterReports()"
        placeholder="Search products by Title, Author, Id..." class="search-bar">
    <table>
        <thead>
            <tr>
                <th>ID</th>
                <th>Report Content</th>
                <th>Product Reported</th>
                <th>Product Id</th>
                <th>Reporter</th>
                <th>Report Date</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let report of filteredReports">
                <td>{{report.id}}</td>
                <td>{{report.reportContent}}</td>
                <td>{{report.productsReports.product_title}}</td>
                <td>{{report.productsReports.id}}</td>
                <td>{{report.productReportedBy.fullName}}</td>
                <td>{{report.createdAt | date}}</td>
                <td>
                    <button class="btn-view">View</button>
                    <button class="btn-edit">Edit</button>
                    <button class="btn-delete">Delete</button>
                </td>
            </tr>
        </tbody>
    </table>
    <!-- No Reports Found Message -->
    <div *ngIf="filteredReports.length == 0" class="product-container d-flex align-items-center justify-content-center">
        <svg style="height: 55px;" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 300 150">
            <path fill="none" stroke="#368B3A" stroke-width="15" stroke-linecap="round" stroke-dasharray="300 385"
                stroke-dashoffset="0"
                d="M275 75c0 31-27 50-50 50-58 0-92-100-150-100-28 0-50 22-50 50s23 50 50 50c58 0 92-100 150-100 24 0 50 19 50 50Z">
                <animate attributeName="stroke-dashoffset" calcMode="spline" dur="2" values="685;-685"
                    keySplines="0 0 1 1" repeatCount="indefinite"></animate>
            </path>
        </svg>
        <h2 class="alert alert-danger mt-3">No Reports Found</h2>
    </div>
</section>